export class DomHelper {
  static *getAllChildNodes(element, includeShadowDom = false) {
    if (element.children) {
      for (const node of element.children) {
        yield node;

        if (includeShadowDom && node.shadowRoot != null) {
          yield node.shadowRoot;
          const childs = DomHelper.getAllChildNodes(node.shadowRoot, includeShadowDom);

          for (const cnode of childs) {
            yield cnode;
          }
        }

        const childs = DomHelper.getAllChildNodes(node, includeShadowDom);

        for (const cnode of childs) {
          yield cnode;
        }
      }
    }

    if (includeShadowDom && element.shadowRoot != null) {
      yield element.shadowRoot;
      const childs = DomHelper.getAllChildNodes(element.shadowRoot, includeShadowDom);

      for (const cnode of childs) {
        yield cnode;
      }
    }

    return null;
  }

  static removeAllChildnodes(node) {
    for (let c = node.firstChild; c !== null; c = node.firstChild) {
      node.removeChild(c);
    }
  }

}