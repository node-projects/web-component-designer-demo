export class ObservedCustomElementsRegistry {
    //@ts-ignore
    #originalCustomElementsRegistry;
    #newElements = [];
    constructor() {
        this.#originalCustomElementsRegistry = window.customElements;
        const registry = {};
        registry.define = function (name, constructor, options) {
            this.#newElements.push(name);
            this.#originalCustomElementsRegistry.define(name, constructor, options);
        };
        registry.get = function (name) {
            return this.#originalCustomElementsRegistry.get(name);
        };
        registry.upgrade = function (node) {
            return this.#originalCustomElementsRegistry.upgrade(node);
        };
        registry.whenDefined = function (name) {
            return this.#originalCustomElementsRegistry.whenDefined(name);
        };
        Object.defineProperty(window, "customElements", {
            get() {
                return registry;
            }
        });
    }
    dispose() {
        Object.defineProperty(window, "customElements", {
            get() {
                return this.#originalCustomElementsRegistry;
            }
        });
    }
    getNewElements() {
        const newElements = this.#newElements;
        this.#newElements = [];
        return newElements;
    }
}
//# sourceMappingURL=ObservedCustomElementsRegistry.js.map