import { IndentedTextWriter } from "../../helper/IndentedTextWriter";
export class DomConverter {
    static normalizeAttributeValue(value) {
        if (value)
            return value.replace(/"/g, '&quot;');
        return value;
    }
    static normalizeContentValue(value) {
        if (value)
            return value.replace(/</g, '&lt;');
        return value;
    }
    static IsSelfClosingElement(tag) {
        return tag === 'area' ||
            tag === 'base' ||
            tag === 'br' ||
            tag === 'col' ||
            tag === 'embed' ||
            tag === 'hr' ||
            tag === 'iframe' ||
            tag === 'img' ||
            tag === 'input' ||
            tag === 'link' ||
            tag === 'meta' ||
            tag === 'param' ||
            tag === 'source' ||
            tag === 'track';
    }
    static ConvertToString(designItem, designItemsAssignmentList) {
        let itw = new IndentedTextWriter();
        let options = { beautifyOutput: true, writeDesignerProperties: true, compressCssToShorthandProperties: true };
        if (designItem.hasChildren) {
            for (let d of designItem.children()) {
                d.serviceContainer.forSomeServicesTillResult('htmlWriterService', (s) => {
                    if (s.canWrite(d))
                        s.write(itw, d, options, designItemsAssignmentList);
                });
            }
        }
        return itw.getString();
    }
}
